import{k as l,j as k,aj as v,ak as x,o as d,c as _,p as a,w as o,F as m,a as g,ai as b,ad as y,al as V,m as t,x as n,G as w,ac as I,z as U,E,A as O,q as i,a7 as j,a8 as M,M as G,am as $,ah as q}from"./index.03179c4f.js";import{u as F,V as Q}from"./useBookListStore.d18c4320.js";import{V as W}from"./VTable.84a50c34.js";const Y={class:"d-flex align-center gap-2 my-1"},H={class:"text-h6"},J=t("thead",null,[t("tr",null,[t("th",{scope:"col"}," NAME "),t("th",{scope:"col"}," CATEGORY "),t("th",{scope:"col"}," STATUS "),t("th",{scope:"col"}," LAST SCAN (TS) "),t("th",{scope:"col"}," UUID "),t("th",{scope:"col"}," OPERATION ")])],-1),K={class:"d-flex align-center"},X={class:"d-flex flex-column"},Z={class:"text-base"},tt=t("span",{class:"text-sm text-disabled"},"No Description",-1),et={class:"text-capitalize text-base"},at={class:"text-capitalize text-base font-weight-semibold"},st={class:"text-base"},lt={class:"text-center",style:{width:"5rem"}},ot=t("tr",null,[t("td",{colspan:"7",class:"text-center"}," No data available ")],-1),nt=[ot],ct={class:"text-sm text-disabled"},ht={__name:"index",setup(rt){const B=F(),N=l(""),S=l(),L=l(),P=l(),T=l(10),r=l(1),u=l(1),z=l(0),c=l([]),p=l(0),A=l([]);k(),v(()=>{B.fetchBooks({q:N.value,status:P.value,plan:L.value,role:S.value,perPage:T.value,currentPage:r.value}).then(s=>{A.value=s.data.users,u.value=s.data.totalPage,z.value=s.data.totalUsers,c.value=s.data.data,p.value=c.value.length,console.log(c.value[0].uuid)}).catch(s=>{console.error(s)})});const f=s=>s==="literature"?{color:"primary",icon:"tabler-pencil"}:{color:"primary",icon:"tabler-pencil"},D=s=>s==="WRONG"?"warning":s==="NORMAL"?"success":"primary";v(()=>{r.value>u.value&&(r.value=u.value)});const C=x(()=>`Showing ${0} to ${c.value.length} of ${c.value.length} entries`),R=[{icon:"tabler-album",color:"primary",title:"Total Books",stats:x(()=>c.value.length),subtitle:"Latest"},{icon:"tabler-album",color:"error",title:"Normal Books",stats:"No Data",subtitle:"Latest"},{icon:"tabler-album",color:"success",title:"Borrowed Books",stats:"No Data",subtitle:"Latest"},{icon:"tabler-album",color:"warning",title:"Lost Books",stats:"No Data",subtitle:"Latest"}];return(s,h)=>(d(),_("section",null,[a(q,null,{default:o(()=>[(d(),_(m,null,g(R,e=>a(b,{key:e.title,cols:"12",sm:"6",lg:"3"},{default:o(()=>[a(y,null,{default:o(()=>[a(V,{class:"d-flex justify-space-between"},{default:o(()=>[t("div",null,[t("span",null,n(e.title),1),t("div",Y,[t("h6",H,n(e.stats),1)]),t("span",null,n(e.subtitle),1)]),a(w,{rounded:"",variant:"tonal",color:e.color,icon:e.icon},null,8,["color","icon"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),64)),a(b,{cols:"12"},{default:o(()=>[a(y,null,{default:o(()=>[a(W,{class:"text-no-wrap"},{default:o(()=>[J,t("tbody",null,[(d(!0),_(m,null,g(i(c),e=>(d(),_("tr",{key:e.uuid,style:{height:"3.75rem"}},[t("td",null,[t("div",K,[t("div",X,[t("h6",Z,n(e.name),1),tt])])]),t("td",null,[a(w,{color:f(e.category).color,icon:f(e.category).icon,variant:"tonal",size:"30",class:"me-4"},null,8,["color","icon"]),t("span",et,n(e.category),1)]),t("td",null,[a(I,{label:"",color:D(e.status),size:"small",class:"text-capitalize"},{default:o(()=>[U(n(e.status),1)]),_:2},1032,["color"])]),t("td",null,[t("span",at,n(e.lastScan),1)]),t("td",null,[t("span",st,n(e.uuid),1)]),t("td",lt,[a(E,{icon:"",size:"x-small",color:"default",variant:"text"},{default:o(()=>[a(O,{size:"22",icon:"tabler-trash"})]),_:1})])]))),128))]),j(t("tfoot",null,nt,512),[[M,!i(p)]])]),_:1}),a(G),a(V,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:o(()=>[t("span",ct,n(i(C)),1),a(Q,{modelValue:i(r),"onUpdate:modelValue":h[0]||(h[0]=e=>$(r)?r.value=e:null),size:"small","total-visible":5,length:i(u)},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{ht as default};
